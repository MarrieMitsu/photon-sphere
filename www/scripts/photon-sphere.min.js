/**
 * PhotonSphere v2.0.2
 *
 * Copyright (c) 2024 MarrieMitsu <isnainromadoni@gmail.com>
 * Released under the MIT license
 */

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).PhotonSphere={})}(this,(function(n){"use strict";var t="undefined"!=typeof document?document.currentScript:null;let e;const i=new Array(128).fill(void 0);function o(n){return i[n]}i.push(void 0,null,!0,!1);let r=i.length;function c(n){const t=o(n);return function(n){n<132||(i[n]=r,r=n)}(n),t}function u(n){return null==n}let p=null;let _=null;function a(){return null!==_&&0!==_.byteLength||(_=new Int32Array(e.memory.buffer)),_}let s=null;function l(n){r===i.length&&i.push(i.length+1);const t=r;return r=i[t],i[t]=n,t}let f=0,b=null;function y(){return null!==b&&0!==b.byteLength||(b=new Uint8Array(e.memory.buffer)),b}const E="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof E.encodeInto?function(n,t){return E.encodeInto(n,t)}:function(n,t){const e=E.encode(n);return t.set(e),{read:n.length,written:e.length}};function x(n,t,e){if(void 0===e){const e=E.encode(n),i=t(e.length,1)>>>0;return y().subarray(i,i+e.length).set(e),f=e.length,i}let i=n.length,o=t(i,1)>>>0;const r=y();let c=0;for(;c<i;c++){const t=n.charCodeAt(c);if(t>127)break;r[o+c]=t}if(c!==i){0!==c&&(n=n.slice(c)),o=e(o,i,i=c+3*n.length,1)>>>0;const t=y().subarray(o+c,o+i);c+=g(n,t).written,o=e(o,i,c,1)>>>0}return f=c,o}const w="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function d(n,t){return n>>>=0,w.decode(y().subarray(n,n+t))}function $(n){const t=typeof n;if("number"==t||"boolean"==t||null==n)return`${n}`;if("string"==t)return`"${n}"`;if("symbol"==t){const t=n.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=n.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(n)){const t=n.length;let e="[";t>0&&(e+=$(n[0]));for(let i=1;i<t;i++)e+=", "+$(n[i]);return e+="]",e}const e=/\[object ([^\]]+)\]/.exec(toString.call(n));let i;if(!(e.length>1))return toString.call(n);if(i=e[1],"Object"==i)try{return"Object("+JSON.stringify(n)+")"}catch(n){return"Object"}return n instanceof Error?`${n.name}: ${n.message}\n${n.stack}`:i}function h(n,t){try{return n.apply(this,t)}catch(n){e.__wbindgen_exn_store(l(n))}}function T(n){try{const o=e.__wbindgen_add_to_stack_pointer(-16);e.photon_sphere_wasm(o,l(n));var t=a()[o/4+0],i=a()[o/4+1];if(a()[o/4+2])throw c(i);return c(t)}finally{e.__wbindgen_add_to_stack_pointer(16)}}function O(){const n={wbg:{}};return n.wbg.__wbg_next_196c84450b364254=function(){return h((function(n){return l(o(n).next())}),arguments)},n.wbg.__wbg_done_298b57d23c0fc80c=function(n){return o(n).done},n.wbg.__wbg_value_d93c65011f51a456=function(n){return l(o(n).value)},n.wbg.__wbindgen_object_drop_ref=function(n){c(n)},n.wbg.__wbindgen_number_get=function(n,t){const i=o(t),r="number"==typeof i?i:void 0;(null!==p&&0!==p.byteLength||(p=new Float64Array(e.memory.buffer)),p)[n/8+1]=u(r)?0:r,a()[n/4+0]=!u(r)},n.wbg.__wbindgen_is_object=function(n){const t=o(n);return"object"==typeof t&&null!==t},n.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(n,t){return l(o(n)[o(t)])},n.wbg.__wbindgen_is_undefined=function(n){return void 0===o(n)},n.wbg.__wbindgen_in=function(n,t){return o(n)in o(t)},n.wbg.__wbindgen_jsval_loose_eq=function(n,t){return o(n)==o(t)},n.wbg.__wbindgen_boolean_get=function(n){const t=o(n);return"boolean"==typeof t?t?1:0:2},n.wbg.__wbindgen_is_bigint=function(n){return"bigint"==typeof o(n)},n.wbg.__wbindgen_bigint_get_as_i64=function(n,t){const i=o(t),r="bigint"==typeof i?i:void 0;(null!==s&&0!==s.byteLength||(s=new BigInt64Array(e.memory.buffer)),s)[n/8+1]=u(r)?BigInt(0):r,a()[n/4+0]=!u(r)},n.wbg.__wbindgen_bigint_from_i64=function(n){return l(n)},n.wbg.__wbindgen_jsval_eq=function(n,t){return o(n)===o(t)},n.wbg.__wbindgen_bigint_from_u64=function(n){return l(BigInt.asUintN(64,n))},n.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(n){return Number.isSafeInteger(o(n))},n.wbg.__wbindgen_string_get=function(n,t){const i=o(t),r="string"==typeof i?i:void 0;var c=u(r)?0:x(r,e.__wbindgen_malloc,e.__wbindgen_realloc),p=f;a()[n/4+1]=p,a()[n/4+0]=c},n.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(n){return Array.isArray(o(n))},n.wbg.__wbg_length_cd7af8117672b8b8=function(n){return o(n).length},n.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return l(Symbol.iterator)},n.wbg.__wbg_instanceof_Map_87917e0a7aaf4012=function(n){let t;try{t=o(n)instanceof Map}catch(n){t=!1}return t},n.wbg.__wbg_entries_95cc2c823b285a09=function(n){return l(Object.entries(o(n)))},n.wbg.__wbg_get_bd8e338fbd5f5cc8=function(n,t){return l(o(n)[t>>>0])},n.wbg.__wbindgen_number_new=function(n){return l(n)},n.wbg.__wbindgen_as_number=function(n){return+o(n)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return l(new Error)},n.wbg.__wbg_stack_658279fe44541cf6=function(n,t){const i=x(o(t).stack,e.__wbindgen_malloc,e.__wbindgen_realloc),r=f;a()[n/4+1]=r,a()[n/4+0]=i},n.wbg.__wbg_error_f851667af71bcfc6=function(n,t){let i,o;try{i=n,o=t,console.error(d(n,t))}finally{e.__wbindgen_free(i,o,1)}},n.wbg.__wbg_get_e3c254076557e348=function(){return h((function(n,t){return l(Reflect.get(o(n),o(t)))}),arguments)},n.wbg.__wbindgen_is_function=function(n){return"function"==typeof o(n)},n.wbg.__wbg_call_27c0f87801dedf93=function(){return h((function(n,t){return l(o(n).call(o(t)))}),arguments)},n.wbg.__wbg_next_40fc327bfc8770e6=function(n){return l(o(n).next)},n.wbg.__wbg_length_c20a40f15020d68a=function(n){return o(n).length},n.wbg.__wbindgen_memory=function(){return l(e.memory)},n.wbg.__wbg_buffer_12d079cc21e14bdb=function(n){return l(o(n).buffer)},n.wbg.__wbg_new_63b92bc8671ed464=function(n){return l(new Uint8Array(o(n)))},n.wbg.__wbg_set_a47bac70306a19a7=function(n,t,e){o(n).set(o(t),e>>>0)},n.wbg.__wbindgen_error_new=function(n,t){return l(new Error(d(n,t)))},n.wbg.__wbindgen_string_new=function(n,t){return l(d(n,t))},n.wbg.__wbg_new_72fb9a18b5ae2624=function(){return l(new Object)},n.wbg.__wbindgen_is_array=function(n){return Array.isArray(o(n))},n.wbg.__wbg_set_1f9b04f170055d33=function(){return h((function(n,t,e){return Reflect.set(o(n),o(t),o(e))}),arguments)},n.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return l(new Array)},n.wbg.__wbg_set_f975102236d3c502=function(n,t,e){o(n)[c(t)]=c(e)},n.wbg.__wbindgen_object_clone_ref=function(n){return l(o(n))},n.wbg.__wbg_set_d4638f722068f043=function(n,t,e){o(n)[t>>>0]=c(e)},n.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(n){let t;try{t=o(n)instanceof Uint8Array}catch(n){t=!1}return t},n.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(n){let t;try{t=o(n)instanceof ArrayBuffer}catch(n){t=!1}return t},n.wbg.__wbindgen_debug_string=function(n,t){const i=x($(o(t)),e.__wbindgen_malloc,e.__wbindgen_realloc),r=f;a()[n/4+1]=r,a()[n/4+0]=i},n.wbg.__wbindgen_throw=function(n,t){throw new Error(d(n,t))},n}async function C(n){if(void 0!==e)return e;void 0===n&&(n=new URL("photon_sphere_wasm_bg.wasm","undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:t&&t.src||new URL("photon-sphere.min.js",document.baseURI).href));const i=O();("string"==typeof n||"function"==typeof Request&&n instanceof Request||"function"==typeof URL&&n instanceof URL)&&(n=fetch(n));const{instance:o,module:r}=await async function(n,t){if("function"==typeof Response&&n instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(n,t)}catch(t){if("application/wasm"==n.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const e=await n.arrayBuffer();return await WebAssembly.instantiate(e,t)}{const e=await WebAssembly.instantiate(n,t);return e instanceof WebAssembly.Instance?{instance:e,module:n}:e}}(await n,i);return function(n,t){return e=n.exports,C.__wbindgen_wasm_module=t,s=null,p=null,_=null,b=null,e}(o,r)}function L(n){return function(n,t,e,i){function o(n,t,e){var i=e?WebAssembly.instantiateStreaming:WebAssembly.instantiate,o=e?WebAssembly.compileStreaming:WebAssembly.compile;return t?i(n,t):o(n)}var r=null,c="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;if(t&&c){var u=require("fs"),p=require("path");return new Promise(((n,e)=>{u.readFile(p.resolve(__dirname,t),((t,r)=>{null!=t?e(t):n(o(r,i,!1))}))}))}if(t)return o(fetch(t),i,!0);if(c)r=Buffer.from(e,"base64");else{var _=globalThis.atob(e),a=_.length;r=new Uint8Array(new ArrayBuffer(a));for(var s=0;s<a;s++)r[s]=_.charCodeAt(s)}if(n){var l=new WebAssembly.Module(r);return i?new WebAssembly.Instance(l,i):l}return o(r,i,!1)}(0,"a9ebcda0cdf5030e.wasm",null,n)}"undefined"!=typeof TextDecoder&&w.decode();const v=360,I=359.99998,A=90,R={UNIFORM:"uniform",ROUNDED:"rounded",EDGE:"edge",REVERSE_EDGE:"reverse-edge",DOUBLE_EDGE:"double-edge",REVERSE_DOUBLE_EDGE:"reverse-double-edge",BEVELLED_EDGE:"bevelled-edge",UNIFORM_IONTAIL:"uniform-iontail",UNIFORM_ANTITAIL:"uniform-antitail",TOP_BEVELLED_IONTAIL:"top-bevelled-iontail",TOP_BEVELLED_ANTITAIL:"top-bevelled-antitail",BOTTOM_BEVELLED_IONTAIL:"bottom-bevelled-iontail",BOTTOM_BEVELLED_ANTITAIL:"bottom-bevelled-antitail",COMET:"comet",REVERSE_COMET:"reverse-comet",METEOR:"meteor",REVERSE_METEOR:"reverse-meteor"},B={GROW:"grow",SHRINK:"shrink"},m={moveTo:{M:function(n,t){return`M ${n},${t}`},m:function(n,t){return`m ${n},${t}`}},lineTo:{L:function(n,t){return`L ${n},${t}`},l:function(n,t){return`l ${n},${t}`},H:function(n){return`H ${n}`},h:function(n){return`h ${n}`},V:function(n){return`V ${n}`},v:function(n){return`v ${n}`}},cubicBezierCurve:{C:function(n,t,e,i,o,r){return`C ${n},${t} ${e},${i} ${o},${r}`},c:function(n,t,e,i,o,r){return`c ${n},${t} ${e},${i} ${o},${r}`},S:function(n,t,e,i){return`S ${n},${t} ${e},${i}`},s:function(n,t,e,i){return`s ${n},${t}, ${e},${i}`}},ellipticalArcCurve:{A:function(n,t,e,i,o,r,c){return`A ${n},${t} ${e} ${i} ${o} ${r},${c}`},a:function(n,t,e,i,o,r,c){return`a ${n},${t} ${e} ${i} ${o} ${r},${c}`}},closePath:"Z"};function M(n){return n*(Math.PI/180)}function N(n){return n/(Math.PI/180)}function D(n){return n/v>0&&n%v==0?I:n%v}function S(n,t=4){return Math.round((n+Number.EPSILON)*Math.pow(10,t))/Math.pow(10,t)}function z(n,t,e){const i=t/2-n/2;return"center"===e?i:"face-in"===e?2*i:0}function V(n,t=!1){return t?0:n>180?1:0}function U(n,t,e,i=[]){let o="",r=0;if(n)for(;r<v/A;){let n,c;i.length>=r+1?(n=i[r].radius,c=i[r].point):(n=i[i.length-1].radius,c=i[i.length-1].point);o+=`${m.ellipticalArcCurve.A(n,n,0,t,e,c.x,c.y)} `,r++}else for(;r<i.length;){const n=i[r].radius,c=i[r].point;o+=`${m.ellipticalArcCurve.A(n,n,0,t,e,c.x,c.y)} `,r++}return o}function G(n,t){return{x:n*Math.cos(M(t)),y:n*Math.sin(M(t))}}function P(n,t,e,i,o,r,c){const u=t-i,p=[];let _;if(1===n)_=u;else if(2===n)_=u-e/2;else{if(3!==n)throw new RangeError("[getCircularArcLocus]: the layer value must be between 1 and 3.");_=u-e}if(o){let n,e,i;c>r?(n=r,e=c):(n=c,e=r),i=e-n;const o=Math.ceil(i/A);let u=0;for(;u<=o;){let i=n+A*u;i>=e&&(i=e);const o=G(_,i);o.x=S(t+o.x),o.y=S(t-o.y),p.push({radius:_,point:o}),u++}c<r&&p.reverse()}else{const n=G(_,r),e=G(_,c);n.x=S(t+n.x),n.y=S(t-n.y),e.x=S(t+e.x),e.y=S(t-e.y),p.push.apply(p,[{radius:_,point:n},{radius:_,point:e}])}return p}function W(n,t,e,i,o,r,c){const u=t-i;let p,_,a;c>r?(p=r,_=c):(p=c,_=r),a=_-p;const s=Math.ceil(a/A),l=e/2/s,f=u-e/2,b=[];let y=0;for(;y<=s;){let i,r,c;if(i=p+A*y,i>=_&&(i=_),1===n)o===B.GROW?r=f+l*y:o===B.SHRINK&&(r=u-l*y),c=G(r,i);else{if(3!==n)throw new RangeError("[getSpiralArcLocus]: the layer value must be 1 or 3.");o===B.GROW?r=f-l*y:o===B.SHRINK&&(r=u-e+l*y),c=G(r,i)}c.x=S(t+c.x),c.y=S(t-c.y),b.push({radius:r,point:c}),y++}return c<r&&b.reverse(),b}function k(n,t,e,i,o,r){const c=V(r-o,i),u=P(1,n,t,e,i,o,r),p=u[0],_=u[u.length-1],a=P(3,n,t,e,i,r,o),s=a[0],l=a[a.length-1];let f,b,y,E,g,x,w;if(f=m.moveTo.M(p.point.x,p.point.y),b=U(i,c,0,u.slice(1)),g=U(i,c,1,a.slice(1)),i){const c=P(2,n,t,e,i,r,o),u=c[0],a=c[c.length-1];return y=m.cubicBezierCurve.C(_.point.x,_.point.y,u.point.x,u.point.y,u.point.x,u.point.y),E=m.cubicBezierCurve.C(u.point.x,u.point.y,s.point.x,s.point.y,s.point.x,s.point.y),x=m.cubicBezierCurve.C(l.point.x,l.point.y,a.point.x,a.point.y,a.point.x,a.point.y),w=m.cubicBezierCurve.C(a.point.x,a.point.y,p.point.x,p.point.y,p.point.x,p.point.y),`${f} ${b} ${y} ${E} ${g} ${x} ${w}`}return y=m.lineTo.L(s.point.x,s.point.y),x=m.closePath,`${f} ${b} ${y} ${g} ${x}`}function F(n,t,e,i,o,r){const c=V(r-o,i),u=N(t/2/n),p=P(1,n,t,e,i,o+u,r-u),_=p[0],a=P(3,n,t,e,i,r-u,o+u),s=a[0],l=P(1,n,t,e,i,o,r),f=l[0],b=l[l.length-1],y=P(3,n,t,e,i,r,o),E=y[0],g=y[y.length-1],x=P(2,n,t,e,i,r,o),w=x[0],d=x[x.length-1];return`${m.moveTo.M(_.point.x,_.point.y)} ${U(i,c,0,p.slice(1))} ${m.cubicBezierCurve.C(b.point.x,b.point.y,w.point.x,w.point.y,w.point.x,w.point.y)} ${m.cubicBezierCurve.C(w.point.x,w.point.y,E.point.x,E.point.y,s.point.x,s.point.y)} ${U(i,c,1,a.slice(1))} ${m.cubicBezierCurve.C(g.point.x,g.point.y,d.point.x,d.point.y,d.point.x,d.point.y)} ${m.cubicBezierCurve.C(d.point.x,d.point.y,f.point.x,f.point.y,_.point.x,_.point.y)}`}function j(n,t,e,i,o,r,c){const u=V(c-r,i),p=N(t/2/n);let _,a;o===R.EDGE?(_=P(1,n,t,e,i,r,c-p),a=P(3,n,t,e,i,c,r+p)):o===R.REVERSE_EDGE?(_=P(1,n,t,e,i,r+p,c),a=P(3,n,t,e,i,c-p,r)):o===R.DOUBLE_EDGE?(_=P(1,n,t,e,i,r+p,c-p),a=P(3,n,t,e,i,c,r)):o===R.REVERSE_DOUBLE_EDGE&&(_=P(1,n,t,e,i,r,c),a=P(3,n,t,e,i,c-p,r+p));const s=_[0],l=_[_.length-1],f=a[0],b=a[a.length-1];let y,E,g,x,w,d,$;return y=m.moveTo.M(s.point.x,s.point.y),E=U(i,u,0,_.slice(1)),w=U(i,u,1,a.slice(1)),i?(g=m.cubicBezierCurve.C(l.point.x,l.point.y,l.point.x,l.point.y,l.point.x,l.point.y),x=m.cubicBezierCurve.C(l.point.x,l.point.y,f.point.x,f.point.y,f.point.x,f.point.y),d=m.cubicBezierCurve.C(b.point.x,b.point.y,b.point.x,b.point.y,b.point.x,b.point.y),$=m.cubicBezierCurve.C(b.point.x,b.point.y,s.point.x,s.point.y,s.point.x,s.point.y),`${y} ${E} ${g} ${x} ${w} ${d} ${$}`):(g=m.lineTo.L(f.point.x,f.point.y),d=m.closePath,`${y} ${E} ${g} ${w} ${d}`)}function H(n,t,e,i,o,r){const c=V(r-o,i),u=N(t/n),p=P(1,n,t,e,i,o+u,r-u),_=p[0],a=p[p.length-1],s=P(3,n,t,e,i,r-u,o+u),l=s[0],f=s[s.length-1],b=P(2,n,t,e,i,r,o),y=b[0],E=b[b.length-1];return`${m.moveTo.M(_.point.x,_.point.y)} ${U(i,c,0,p.slice(1))} ${m.cubicBezierCurve.C(a.point.x,a.point.y,y.point.x,y.point.y,y.point.x,y.point.y)} ${m.cubicBezierCurve.C(y.point.x,y.point.y,l.point.x,l.point.y,l.point.x,l.point.y)} ${U(i,c,1,s.slice(1))} ${m.cubicBezierCurve.C(f.point.x,f.point.y,E.point.x,E.point.y,E.point.x,E.point.y)} ${m.cubicBezierCurve.C(E.point.x,E.point.y,_.point.x,_.point.y,_.point.x,_.point.y)}`}function K(n,t,e,i,o,r,c){let u,p;o===R.UNIFORM_IONTAIL?(u=W(1,n,t,e,B.GROW,r,c),p=W(3,n,t,e,B.GROW,c,r)):o===R.UNIFORM_ANTITAIL&&(u=W(1,n,t,e,B.SHRINK,r,c),p=W(3,n,t,e,B.SHRINK,c,r));const _=u[0],a=u[u.length-1],s=p[0],l=p[p.length-1];let f,b,y,E,g,x,w;return f=m.moveTo.M(_.point.x,_.point.y),b=U(i,0,0,u.slice(1)),g=U(i,0,1,p.slice(1)),i?(y=m.cubicBezierCurve.C(a.point.x,a.point.y,a.point.x,a.point.y,a.point.x,a.point.y),w=m.cubicBezierCurve.C(_.point.x,_.point.y,_.point.x,_.point.y,_.point.x,_.point.y),o===R.UNIFORM_IONTAIL?(E=m.cubicBezierCurve.C(a.point.x,a.point.y,s.point.x,s.point.y,s.point.x,s.point.y),x=m.cubicBezierCurve.C(_.point.x,_.point.y,_.point.x,_.point.y,_.point.x,_.point.y)):o===R.UNIFORM_ANTITAIL&&(E=m.cubicBezierCurve.C(a.point.x,a.point.y,a.point.x,a.point.y,a.point.x,a.point.y),x=m.cubicBezierCurve.C(l.point.x,l.point.y,_.point.x,_.point.y,_.point.x,_.point.y)),`${f} ${b} ${y} ${E} ${g} ${x} ${w}`):o===R.UNIFORM_IONTAIL?(y=m.lineTo.L(s.point.x,s.point.y),`${f} ${b} ${y} ${g}`):o===R.UNIFORM_ANTITAIL?(x=m.closePath,`${f} ${b} ${g} ${x}`):void 0}function q(n,t,e,i,o,r,c){const u=N(t/n);let p,_;o===R.TOP_BEVELLED_IONTAIL?(p=W(1,n,t,e,B.GROW,r,c-u),_=W(3,n,t,e,B.GROW,c,r)):o===R.TOP_BEVELLED_ANTITAIL?(p=W(1,n,t,e,B.SHRINK,r+u,c),_=W(3,n,t,e,B.SHRINK,c,r)):o===R.BOTTOM_BEVELLED_IONTAIL?(p=W(1,n,t,e,B.GROW,r,c),_=W(3,n,t,e,B.GROW,c-u,r)):o===R.BOTTOM_BEVELLED_ANTITAIL&&(p=W(1,n,t,e,B.SHRINK,r,c),_=W(3,n,t,e,B.SHRINK,c,r+u));const a=p[0],s=p[p.length-1],l=_[0],f=_[_.length-1];let b,y,E,g,x,w,d;return b=m.moveTo.M(a.point.x,a.point.y),y=U(i,0,0,p.slice(1)),x=U(i,0,1,_.slice(1)),i?(E=m.cubicBezierCurve.C(s.point.x,s.point.y,s.point.x,s.point.y,s.point.x,s.point.y),w=m.cubicBezierCurve.C(f.point.x,f.point.y,f.point.x,f.point.y,f.point.x,f.point.y),d=m.cubicBezierCurve.C(f.point.x,f.point.y,a.point.x,a.point.y,a.point.x,a.point.y),o===R.TOP_BEVELLED_IONTAIL||o===R.BOTTOM_BEVELLED_IONTAIL?g=m.cubicBezierCurve.C(s.point.x,s.point.y,l.point.x,l.point.y,l.point.x,l.point.y):o!==R.TOP_BEVELLED_ANTITAIL&&o!==R.BOTTOM_BEVELLED_ANTITAIL||(g=m.cubicBezierCurve.C(s.point.x,s.point.y,s.point.x,s.point.y,s.point.x,s.point.y)),`${b} ${y} ${E} ${g} ${x} ${w} ${d}`):o===R.TOP_BEVELLED_IONTAIL||o===R.BOTTOM_BEVELLED_IONTAIL?(E=m.lineTo.L(l.point.x,l.point.y),`${b} ${y} ${E} ${x}`):o===R.TOP_BEVELLED_ANTITAIL||o===R.BOTTOM_BEVELLED_ANTITAIL?(w=m.closePath,`${b} ${y} ${x} ${w}`):void 0}function J(n,t,e,i,o,r,c){const u=N(t/n);let p,_;o===R.COMET?(p=W(1,n,t,e,B.GROW,r,c-u),_=W(3,n,t,e,B.GROW,c-u,r)):o===R.REVERSE_COMET&&(p=W(1,n,t,e,B.SHRINK,r+u,c),_=W(3,n,t,e,B.SHRINK,c,r+u));const a=p[0],s=p[p.length-1],l=_[0],f=_[_.length-1],b=P(1,n,t,e,i,r,c),y=b[0],E=b[b.length-1],g=P(3,n,t,e,i,c,r),x=g[0],w=g[g.length-1],d=P(2,n,t,e,i,r,c),$=d[0],h=d[d.length-1];let T,O,C,L,v,I,A;return T=m.moveTo.M(a.point.x,a.point.y),O=U(i,0,0,p.slice(1)),v=U(i,0,1,_.slice(1)),i?(o===R.COMET?(C=m.cubicBezierCurve.C(E.point.x,E.point.y,h.point.x,h.point.y,h.point.x,h.point.y),L=m.cubicBezierCurve.C(h.point.x,h.point.y,x.point.x,x.point.y,l.point.x,l.point.y),I=m.cubicBezierCurve.C(f.point.x,f.point.y,f.point.x,f.point.y,f.point.x,f.point.y),A=m.cubicBezierCurve.C(f.point.x,f.point.y,a.point.x,a.point.y,a.point.x,a.point.y)):o===R.REVERSE_COMET&&(C=m.cubicBezierCurve.C(s.point.x,s.point.y,s.point.x,s.point.y,s.point.x,s.point.y),L=m.cubicBezierCurve.C(s.point.x,s.point.y,l.point.x,l.point.y,l.point.x,l.point.y),I=m.cubicBezierCurve.C(w.point.x,w.point.y,$.point.x,$.point.y,$.point.x,$.point.y),A=m.cubicBezierCurve.C($.point.x,$.point.y,y.point.x,y.point.y,a.point.x,a.point.y)),`${T} ${O} ${C} ${L} ${v} ${I} ${A}`):o===R.COMET?(C=m.cubicBezierCurve.C(E.point.x,E.point.y,h.point.x,h.point.y,h.point.x,h.point.y),L=m.cubicBezierCurve.C(h.point.x,h.point.y,x.point.x,x.point.y,l.point.x,l.point.y),`${T} ${O} ${C} ${L} ${v}`):o===R.REVERSE_COMET?(I=m.cubicBezierCurve.C(w.point.x,w.point.y,$.point.x,$.point.y,$.point.x,$.point.y),A=m.cubicBezierCurve.C($.point.x,$.point.y,y.point.x,y.point.y,a.point.x,a.point.y),`${T} ${O} ${v} ${I} ${A}`):void 0}function Z(n,t,e,i,o,r,c){const u=N(t/n);let p,_;o===R.METEOR?(p=W(1,n,t,e,B.GROW,r,c-u),_=W(3,n,t,e,B.GROW,c-u,r)):o===R.REVERSE_METEOR&&(p=W(1,n,t,e,B.SHRINK,r+u,c),_=W(3,n,t,e,B.SHRINK,c,r+u));const a=p[0],s=p[p.length-1],l=_[0],f=_[_.length-1],b=P(2,n,t,e,i,r,c),y=b[0],E=b[b.length-1];let g,x,w,d,$,h,T;return g=m.moveTo.M(a.point.x,a.point.y),x=U(i,0,0,p.slice(1)),$=U(i,0,1,_.slice(1)),i?(o===R.METEOR?(w=m.cubicBezierCurve.C(s.point.x,s.point.y,E.point.x,E.point.y,E.point.x,E.point.y),d=m.cubicBezierCurve.C(E.point.x,E.point.y,l.point.x,l.point.y,l.point.x,l.point.y),h=m.cubicBezierCurve.C(f.point.x,f.point.y,f.point.x,f.point.y,f.point.x,f.point.y),T=m.cubicBezierCurve.C(f.point.x,f.point.y,a.point.x,a.point.y,a.point.x,a.point.y)):o===R.REVERSE_METEOR&&(w=m.cubicBezierCurve.C(s.point.x,s.point.y,s.point.x,s.point.y,s.point.x,s.point.y),d=m.cubicBezierCurve.C(s.point.x,s.point.y,l.point.x,l.point.y,l.point.x,l.point.y),h=m.cubicBezierCurve.C(f.point.x,f.point.y,y.point.x,y.point.y,y.point.x,y.point.y),T=m.cubicBezierCurve.C(y.point.x,y.point.y,a.point.x,a.point.y,a.point.x,a.point.y)),`${g} ${x} ${w} ${d} ${$} ${h} ${T}`):o===R.METEOR?(w=m.cubicBezierCurve.C(s.point.x,s.point.y,E.point.x,E.point.y,E.point.x,E.point.y),d=m.cubicBezierCurve.C(E.point.x,E.point.y,l.point.x,l.point.y,l.point.x,l.point.y),`${g} ${x} ${w} ${d} ${$}`):o===R.REVERSE_METEOR?(h=m.cubicBezierCurve.C(f.point.x,f.point.y,y.point.x,y.point.y,y.point.x,y.point.y),T=m.cubicBezierCurve.C(y.point.x,y.point.y,a.point.x,a.point.y,a.point.x,a.point.y),`${g} ${x} ${$} ${h} ${T}`):void 0}n.PhotonSphere=function({radius:n,widths:t,shapes:e,offset:i=0,arcDasharray:o=[],align:r="face-out",morphingShape:c=!1,attributes:u={}}){if(void 0===n)throw new TypeError("[PhotonSphere]: radius must not null");if(void 0===t)throw new TypeError("[PhotonSphere]: widths must not null");if(void 0===e)throw new TypeError("[PhotonSphere]: shapes must not null");const p=[];let _,a,s,l=0,f=0,b=0;if(Array.isArray(t)&&t.length>0?(_=t[0],a=function(n){let t=n[0];for(let e=0;e<n.length;e++)t<n[e]&&(t=n[e]);return t}(t)):(_=t,a=t),s=Array.isArray(e)&&e.length>0?e[0]:e,l+=D(i),Array.isArray(o)&&o.length>0){if(0===D(o[0]))return p;for(;l<v;){const i=(f+1)%2!=0,y={},E={};let g=D(o[f%o.length]);if(g>v-l&&(g=v-l),Array.isArray(t)&&t.length>0&&(_=t[b%t.length]),Array.isArray(e)&&e.length>0&&(s=e[b%e.length]),i){let t;const e=z(_,a,r);switch(s){case R.UNIFORM:t=k(n,_,e,c,l,l+g);break;case R.ROUNDED:t=F(n,_,e,c,l,l+g);break;case R.EDGE:case R.REVERSE_EDGE:case R.DOUBLE_EDGE:case R.REVERSE_DOUBLE_EDGE:t=j(n,_,e,c,s,l,l+g);break;case R.BEVELLED_EDGE:t=H(n,_,e,c,l,l+g);break;case R.UNIFORM_IONTAIL:case R.UNIFORM_ANTITAIL:t=K(n,_,e,c,s,l,l+g);break;case R.TOP_BEVELLED_IONTAIL:case R.TOP_BEVELLED_ANTITAIL:case R.BOTTOM_BEVELLED_IONTAIL:case R.BOTTOM_BEVELLED_ANTITAIL:t=q(n,_,e,c,s,l,l+g);break;case R.COMET:case R.REVERSE_COMET:t=J(n,_,e,c,s,l,l+g);break;case R.METEOR:case R.REVERSE_METEOR:t=Z(n,_,e,c,s,l,l+g);break;default:t=k(n,_,e,c,l,l+g)}if("object"==typeof u)for(const n in u){const t=u[n];Array.isArray(t)&&t.length>0?E[n]=t[b%t.length]:E[n]=t}y.path=t,y.attributes=E,p.push(y),b++}l+=g,f++}}else{let t;const e={},i={};switch(s){case R.UNIFORM:t=k(n,_,0,c,0,I);break;case R.ROUNDED:t=F(n,_,0,c,0,I);break;case R.EDGE:case R.REVERSE_EDGE:case R.DOUBLE_EDGE:case R.REVERSE_DOUBLE_EDGE:t=j(n,_,0,c,s,0,I);break;case R.BEVELLED_EDGE:t=H(n,_,0,c,0,I);break;case R.UNIFORM_IONTAIL:case R.UNIFORM_ANTITAIL:t=K(n,_,0,c,s,0,I);break;case R.TOP_BEVELLED_IONTAIL:case R.TOP_BEVELLED_ANTITAIL:case R.BOTTOM_BEVELLED_IONTAIL:case R.BOTTOM_BEVELLED_ANTITAIL:t=q(n,_,0,c,s,0,I);break;case R.COMET:case R.REVERSE_COMET:t=J(n,_,0,c,s,0,I);break;case R.METEOR:case R.REVERSE_METEOR:t=Z(n,_,0,c,s,0,I);break;default:t=k(n,_,0,c,0,I)}if("object"==typeof u)for(const n in u){const t=u[n];Array.isArray(t)&&t.length>0?i[n]=t[0]:i[n]=t}e.path=t,e.attributes=i,p.push(e)}return p},n.PhotonSphereWasm=async function(){return await C(await L()),T}}));
